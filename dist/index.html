<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Lexer Generator</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="PL - Universidad de La Laguna">
    
    <link rel="preload" href="./assets/css/0.styles.f1456810.css" as="style"><link rel="preload" href="./assets/js/app.9c667f20.js" as="script"><link rel="preload" href="./assets/js/2.2c19e274.js" as="script"><link rel="preload" href="./assets/js/8.1d776418.js" as="script"><link rel="prefetch" href="./assets/js/3.310fc308.js"><link rel="prefetch" href="./assets/js/4.0d8f90e9.js"><link rel="prefetch" href="./assets/js/5.5f81c412.js"><link rel="prefetch" href="./assets/js/6.2f3f3a69.js"><link rel="prefetch" href="./assets/js/7.4e603f86.js">
    <link rel="stylesheet" href="./assets/css/0.styles.f1456810.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="./" aria-current="page" class="home-link router-link-exact-active router-link-active"><!----> <span class="site-name">Lexer Generator</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="./api/" class="nav-link">
  Documentation
</a></div><div class="nav-item"><a href="https://github.com/ULL-ESIT-PL-2122/lexer-generator-sebastian-tamayo-guzman-alu0101131108/packages/1353838" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Package
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/ULL-ESIT-PL-2122/lexer-generator-sebastian-tamayo-guzman-alu0101131108.git" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="./api/" class="nav-link">
  Documentation
</a></div><div class="nav-item"><a href="https://github.com/ULL-ESIT-PL-2122/lexer-generator-sebastian-tamayo-guzman-alu0101131108/packages/1353838" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Package
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/ULL-ESIT-PL-2122/lexer-generator-sebastian-tamayo-guzman-alu0101131108.git" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <!----> </aside> <main aria-labelledby="main-title" class="home"><header class="hero"><!----> <h1 id="main-title">
      Lexer Generator
    </h1> <p class="description">
      PL - Universidad de La Laguna
    </p> <!----></header> <!----> <div class="theme-default-content custom content__default"><h1 id="descripcion-de-la-tarea"><a href="#descripcion-de-la-tarea" class="header-anchor">#</a> Descripci칩n de la tarea</h1> <p>En esta tarea se pretende construir un m칩dulo de JavaScript que provea de dos funciones principales, buildLexer y nearlyLexer.
Ambas sirven para construir analizadores l칠xicos en funci칩n de las expresiones regulares que se les pasen por par치metros. Ambas
funciones, adem치s de retornar la funci칩n que actua como analizador l칠xico, devuelve tambi칠n un mapa de Javascript que contiene los
tipos de token como llaves y sus expresiones regulares asociadas.</p> <p>Cabe destacar que la funci칩n nearlyLexer est치 pensada para que sea utilizada junto a NearlyJS, es decir que son compatibles.</p> <h1 id="contructores-de-analizadores-lexicos"><a href="#contructores-de-analizadores-lexicos" class="header-anchor">#</a> Contructores de analizadores l칠xicos</h1> <p>Para el desarrollo de la funci칩n buildLexer, es necesario empezar construyendo el Mapa validTokens y a침adiendo en 칠l los valores recibidos
por el par치metro regexps. Cada expresi칩n regular es tratada por la funci칩n ya proporcionada checkRegExpIsNamed, que comprueba que estas
tengan un formato adecuado y devuelve el nombre asociado. Adem치s, se incluye el token de error que servir치 para encapsular los errores
que se pueda encontrar el analizador l칠xico. Cabe destacar que si alguna expresi칩n regular no tiene un nombre o tiene un nombre repetido,
se lanzar치n los errores pertinentes.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">buildLexer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">regexps</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Create and populate the Map.</span>
  <span class="token keyword">let</span> validTokens <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  regexps<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;ERROR&gt;.+)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  regexps<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">regex</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token function">checkRegExpIsNamed</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>name<span class="token punctuation">)</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;Regular expression must be named&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>validTokens<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;Regular expression must be unique&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    validTokens<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> regex<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// (...)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>A continuaci칩n, es necesario unificar todas las expresiones regulares como una 칰nica. Esto se consigue uni칠ndolas
todas sus fuentes con un separador OR (|). Adem치s, al crear la nueva expresi칩n regular global, se especificar치 el uso de
dos flags: 'y' e 'u'. La primera servir치 para que cuando la expresi칩n regular busque matches ante una entrada, lo haga solo
desde el caracter indicado por lastIndex. La segunda indica que se desea utilizar una codificaci칩n de caracteres UNICODE.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>  <span class="token keyword">const</span> regexSources <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>validTokens<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">regex</span> <span class="token operator">=&gt;</span> regex<span class="token punctuation">.</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> sourcesJoin <span class="token operator">=</span> regexSources<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'|'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span>sourcesJoin<span class="token punctuation">,</span> <span class="token string">'yu'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Para continuar, se procede a crear la funci칩n que actuar치 como analizador l칠xico. Esta iterar치 los matches de la expresi칩n regular
principal ante la entrada, para poder obtener la informaci칩n relacionada a ese token. De esta manera, se seguir치 ejecutando la b칰squeda
de algun match mediante &quot;regex.exec(string)&quot;, y mientras se encuentre uno, se iterar치 sobre su atributo groups hasta encontrar del que se trata
para poder almacenar su informaci칩n. La informaci칩n de cada token que sea reconocido deber치 ser almacenada en el array resultado, a no ser
que el flag skip est칠 puesto a true, en ese caso no se quiere almacenar informaci칩n relativa al token. Por 칰ltimo, tener en cuenta otro atributo
de los tokens, el PostProcessor. Esta es una funci칩n que ser치 utilizada despues de la lectura del token para transformar su atributo value.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token function-variable function">lexer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">string<span class="token punctuation">,</span> line <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> matches<span class="token punctuation">,</span> col<span class="token punctuation">,</span> offset <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>matches <span class="token operator">=</span> regex<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Find the token group, value and skip flag.</span>
      <span class="token keyword">let</span> groups <span class="token operator">=</span> matches<span class="token punctuation">.</span>groups<span class="token punctuation">;</span>
      <span class="token keyword">let</span> tokenType<span class="token punctuation">,</span> tokenValue<span class="token punctuation">,</span> tokenSkip<span class="token punctuation">,</span> tokenPostProcessor<span class="token punctuation">;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> type <span class="token keyword">in</span> groups<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>groups<span class="token punctuation">[</span>type<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token operator">!</span>validTokens<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>
        tokenType <span class="token operator">=</span> type<span class="token punctuation">;</span>
        tokenValue <span class="token operator">=</span> groups<span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">;</span>
        tokenSkip <span class="token operator">=</span> validTokens<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">.</span>skip<span class="token punctuation">;</span>
        tokenPostProcessor <span class="token operator">=</span> validTokens<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">.</span>value <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token parameter">t</span> <span class="token operator">=&gt;</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token comment">// Calculate the column and line values.</span>
      col <span class="token operator">=</span> <span class="token punctuation">(</span>matches<span class="token punctuation">.</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">-</span> offset<span class="token punctuation">;</span>
      <span class="token keyword">let</span> newlineCount <span class="token operator">=</span> <span class="token punctuation">(</span>tokenValue<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\n</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>newlineCount <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        line <span class="token operator">+=</span> newlineCount<span class="token punctuation">;</span>
        offset <span class="token operator">+=</span> col <span class="token operator">+</span> <span class="token punctuation">(</span>tokenValue<span class="token punctuation">.</span>length <span class="token operator">-</span> newlineCount<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token comment">// Skip or add token data.</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>tokenSkip <span class="token operator">===</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>
      result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> tokenType<span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token function">tokenPostProcessor</span><span class="token punctuation">(</span>tokenValue<span class="token punctuation">)</span><span class="token punctuation">,</span>
        col<span class="token punctuation">,</span>
        line<span class="token punctuation">,</span>
        <span class="token literal-property property">length</span><span class="token operator">:</span> tokenValue<span class="token punctuation">.</span>length
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>Por 칰ltimo, se retornan tanto el mapa validTokens como la funci칩n lexer.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">return</span> <span class="token punctuation">{</span> validTokens<span class="token punctuation">,</span> lexer <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>Cabe destacar que el c칩digo de la funci칩n nearlyLexer ya viene implementado y utiliza la funcion buildLexer para
extender su funcionalidad haciendola compatible con NearlyJS al a침adir una serie de atributos m치s.</p> <h1 id="tests"><a href="#tests" class="header-anchor">#</a> Tests</h1> <p>Se han realizado una serie de test con Jest para comprobar el correcto funcionamiento del programa. Se puede observar que se han a침adido
tests para comprobar el funcionamiento de buildLexer, el funcionamiento de buildLexer cuando se incluyen caracteres unicode, que funcione el atributo .value para indicar un post procesador, y para comprobar que nearlyLexer se ejecuta correctamente.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> buildLexer <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../src/main.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token constant">SPACE</span> <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;SPACE&gt;\s+|\/\/.*)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span> <span class="token constant">SPACE</span><span class="token punctuation">.</span>skip <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">RESERVEDWORD</span> <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;RESERVEDWORD&gt;\b(const|let)\b)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">ID</span> <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;ID&gt;\b([a-z_]\w*)\b)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">STRING</span> <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;STRING&gt;&quot;([^\\&quot;]|\\.&quot;)*&quot;)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">OP</span> <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;OP&gt;[+*\/=-])</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">OP_UNICODE</span> <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;OP&gt;[+*游\/=-])</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">NUMBER</span> <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;NUMBER&gt;\d+)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span> <span class="token constant">NUMBER</span><span class="token punctuation">.</span><span class="token function-variable function">value</span> <span class="token operator">=</span> <span class="token parameter">v</span> <span class="token operator">=&gt;</span> <span class="token function">Number</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'buildLexer'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> myTokens <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token constant">SPACE</span><span class="token punctuation">,</span>
    <span class="token constant">RESERVEDWORD</span><span class="token punctuation">,</span>
    <span class="token constant">ID</span><span class="token punctuation">,</span>
    <span class="token constant">STRING</span><span class="token punctuation">,</span>
    <span class="token constant">OP</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">{</span> lexer <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">buildLexer</span><span class="token punctuation">(</span>myTokens<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'Assignment to string'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'const varName = &quot;value&quot;'</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">lexer</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> expected <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'RESERVEDWORD'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'const'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">col</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'ID'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'varName'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">col</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
        <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'OP'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'='</span><span class="token punctuation">,</span>
        <span class="token literal-property property">col</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
        <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'STRING'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'&quot;value&quot;'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">col</span><span class="token operator">:</span> <span class="token number">17</span><span class="token punctuation">,</span>
        <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span>expected<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'Assingment spanning two lines'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'let x = a + \nb'</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">lexer</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> expected <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'RESERVEDWORD'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'let'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">col</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'ID'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'x'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">col</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'OP'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'='</span><span class="token punctuation">,</span>
        <span class="token literal-property property">col</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
        <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'ID'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'a'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">col</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
        <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'OP'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'+'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">col</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
        <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'ID'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'b'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">col</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span>expected<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'Input with errors'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">' // Input with errors\nlet x = 42*c\nconst a = b'</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">lexer</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> expected <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'RESERVEDWORD'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'let'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">col</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'ID'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'x'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">col</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'OP'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'='</span><span class="token punctuation">,</span>
        <span class="token literal-property property">col</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
        <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'ERROR'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'42*c'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">col</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
        <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'RESERVEDWORD'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'const'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">col</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'ID'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'a'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">col</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
        <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'OP'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'='</span><span class="token punctuation">,</span>
        <span class="token literal-property property">col</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
        <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'ID'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'b'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">col</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
        <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span>expected<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'Input with errors that aren\'t at the end of the line'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'let 2x = &quot;hello&quot;'</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">lexer</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> expected <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'RESERVEDWORD'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'let'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">col</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'ERROR'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span>  <span class="token string">&quot;2x = \&quot;hello\&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">col</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span>expected<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'Shouldn\'t be possible to use unnamed Regexps'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token constant">OP</span> <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">([+*\/=-])</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">buildLexer</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token constant">OP</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>lexer<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toThrowError</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">named</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'Shouldn\'t be possible to use Regexps named more than once'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token constant">OP</span> <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;OP&gt;(?&lt;OP2&gt;[+*\/=-]))</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">buildLexer</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token constant">OP</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>lexer<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toThrowError</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">named</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'Should be possible to use Regexps with look behinds'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token constant">OP</span> <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;OP&gt;a(?&lt;=b))</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">buildLexer</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token constant">OP</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>lexer<span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toThrowError</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">named</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'buildLexer with unicode'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> myTokens <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token constant">SPACE</span><span class="token punctuation">,</span>
    <span class="token constant">RESERVEDWORD</span><span class="token punctuation">,</span>
    <span class="token constant">ID</span><span class="token punctuation">,</span>
    <span class="token constant">STRING</span><span class="token punctuation">,</span>
    <span class="token constant">OP_UNICODE</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">{</span> lexer <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">buildLexer</span><span class="token punctuation">(</span>myTokens<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'Use of emoji operation'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'const varName = &quot;value&quot; 游 &quot;a&quot;'</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">lexer</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> expected <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'RESERVEDWORD'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'const'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">col</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'ID'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'varName'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">col</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
        <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'OP'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'='</span><span class="token punctuation">,</span>
        <span class="token literal-property property">col</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
        <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'STRING'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'&quot;value&quot;'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">col</span><span class="token operator">:</span> <span class="token number">17</span><span class="token punctuation">,</span>
        <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'OP'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'游'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">col</span><span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span>
        <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'STRING'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'&quot;a&quot;'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">col</span><span class="token operator">:</span> <span class="token number">28</span><span class="token punctuation">,</span>
        <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span>expected<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'Post-processor value'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> myTokens <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token constant">SPACE</span><span class="token punctuation">,</span>
    <span class="token constant">RESERVEDWORD</span><span class="token punctuation">,</span>
    <span class="token constant">ID</span><span class="token punctuation">,</span>
    <span class="token constant">NUMBER</span><span class="token punctuation">,</span>
    <span class="token constant">STRING</span><span class="token punctuation">,</span>
    <span class="token constant">OP</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">{</span> lexer <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">buildLexer</span><span class="token punctuation">(</span>myTokens<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'Post-processor works fine'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'const dummy = 0'</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">lexer</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> expected <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'RESERVEDWORD'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'const'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">col</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'ID'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'dummy'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">col</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
        <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'OP'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'='</span><span class="token punctuation">,</span>
        <span class="token literal-property property">col</span><span class="token operator">:</span> <span class="token number">13</span><span class="token punctuation">,</span>
        <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'NUMBER'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token literal-property property">col</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
        <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span>expected<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'lexerNearly function works fine'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> nearley <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;nearley&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> testGrammar <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;../test/test-grammar.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> eggGrammar <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./egg/grammar.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'It\'s compatible with Nearley'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> input <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
     fun (id, idtwo, idthree)  
       do   #hello
         do end;
         do end # another comment
       end 
     end</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> parser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">nearley<span class="token punctuation">.</span>Parser</span><span class="token punctuation">(</span>nearley<span class="token punctuation">.</span>Grammar<span class="token punctuation">.</span><span class="token function">fromCompiled</span><span class="token punctuation">(</span>testGrammar<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    parser<span class="token punctuation">.</span><span class="token function">feed</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> parser<span class="token punctuation">.</span>results<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> expected <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'fun'</span><span class="token punctuation">,</span> <span class="token string">'lp'</span><span class="token punctuation">,</span> <span class="token string">'identifier'</span><span class="token punctuation">,</span> <span class="token string">'comma'</span><span class="token punctuation">,</span>
      <span class="token string">'identifier'</span><span class="token punctuation">,</span> <span class="token string">'comma'</span><span class="token punctuation">,</span> <span class="token string">'identifier'</span><span class="token punctuation">,</span> <span class="token string">'rp'</span><span class="token punctuation">,</span>
      <span class="token string">'dolua'</span><span class="token punctuation">,</span> <span class="token string">'dolua'</span><span class="token punctuation">,</span> <span class="token string">'end'</span><span class="token punctuation">,</span> <span class="token string">'semicolon'</span><span class="token punctuation">,</span>
      <span class="token string">'dolua'</span><span class="token punctuation">,</span> <span class="token string">'end'</span><span class="token punctuation">,</span> <span class="token string">'end'</span><span class="token punctuation">,</span> <span class="token string">'end'</span><span class="token punctuation">,</span> <span class="token string">'EOF'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span>expected<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>El resultado de ejecutar estos test es el siguiente.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>usuario@ubuntu ~/LexerGenerator <span class="token punctuation">(</span>master<span class="token punctuation">)</span> $ <span class="token function">npm</span> <span class="token builtin class-name">test</span>

<span class="token operator">&gt;</span> @ull-esit-pl-2122/lexer-generator-sebastian-tamayo-guzman-alu0101131108@1.0.3 <span class="token builtin class-name">test</span>
<span class="token operator">&gt;</span> jest --coverage

 PASS  test/build-lexer.test.js
  buildLexer
    九 Assignment to string <span class="token punctuation">(</span><span class="token number">6</span> ms<span class="token punctuation">)</span>
    九 Assingment spanning two lines <span class="token punctuation">(</span><span class="token number">2</span> ms<span class="token punctuation">)</span>
    九 Input with errors <span class="token punctuation">(</span><span class="token number">2</span> ms<span class="token punctuation">)</span>
    九 Input with errors that aren<span class="token string">'t at the end of the line
    九 Shouldn'</span>t be possible to use unnamed Regexps <span class="token punctuation">(</span><span class="token number">9</span> ms<span class="token punctuation">)</span>
    九 Shouldn<span class="token string">'t be possible to use Regexps named more than once (1 ms)
    九 Should be possible to use Regexps with look behinds (1 ms)
  buildLexer with unicode
    九 Use of emoji operation (1 ms)
  Post-processor value
    九 Post-processor works fine (1 ms)
  lexerNearly function works fine
    九 It'</span>s compatible with Nearley <span class="token punctuation">(</span><span class="token number">5</span> ms<span class="token punctuation">)</span>

------------------<span class="token operator">|</span>---------<span class="token operator">|</span>----------<span class="token operator">|</span>---------<span class="token operator">|</span>---------<span class="token operator">|</span>-------------------
File              <span class="token operator">|</span> % Stmts <span class="token operator">|</span> % Branch <span class="token operator">|</span> % Funcs <span class="token operator">|</span> % Lines <span class="token operator">|</span> Uncovered Line <span class="token comment">#s </span>
------------------<span class="token operator">|</span>---------<span class="token operator">|</span>----------<span class="token operator">|</span>---------<span class="token operator">|</span>---------<span class="token operator">|</span>-------------------
All files         <span class="token operator">|</span>   <span class="token number">82.35</span> <span class="token operator">|</span>     <span class="token number">71.7</span> <span class="token operator">|</span>   <span class="token number">46.67</span> <span class="token operator">|</span>   <span class="token number">82.08</span> <span class="token operator">|</span>                   
 src              <span class="token operator">|</span>   <span class="token number">96.83</span> <span class="token operator">|</span>    <span class="token number">88.89</span> <span class="token operator">|</span>   <span class="token number">91.67</span> <span class="token operator">|</span>   <span class="token number">96.61</span> <span class="token operator">|</span>                   
  main.js         <span class="token operator">|</span>   <span class="token number">96.83</span> <span class="token operator">|</span>    <span class="token number">88.89</span> <span class="token operator">|</span>   <span class="token number">91.67</span> <span class="token operator">|</span>   <span class="token number">96.61</span> <span class="token operator">|</span> <span class="token number">41,149</span>            
 <span class="token builtin class-name">test</span>             <span class="token operator">|</span>   <span class="token number">84.62</span> <span class="token operator">|</span>    <span class="token number">57.14</span> <span class="token operator">|</span>   <span class="token number">66.67</span> <span class="token operator">|</span>   <span class="token number">81.82</span> <span class="token operator">|</span>                   
  test-grammar.js <span class="token operator">|</span>   <span class="token number">84.62</span> <span class="token operator">|</span>    <span class="token number">57.14</span> <span class="token operator">|</span>   <span class="token number">66.67</span> <span class="token operator">|</span>   <span class="token number">81.82</span> <span class="token operator">|</span> <span class="token number">4,44</span>              
 test/egg         <span class="token operator">|</span>   <span class="token number">60.47</span> <span class="token operator">|</span>       <span class="token number">50</span> <span class="token operator">|</span>    <span class="token number">6.67</span> <span class="token operator">|</span>   <span class="token number">58.33</span> <span class="token operator">|</span>                   
  build-ast.js    <span class="token operator">|</span>   <span class="token number">16.67</span> <span class="token operator">|</span>        <span class="token number">0</span> <span class="token operator">|</span>       <span class="token number">0</span> <span class="token operator">|</span>      <span class="token number">20</span> <span class="token operator">|</span> <span class="token number">13</span>-43             
  grammar.js      <span class="token operator">|</span>   <span class="token number">35.29</span> <span class="token operator">|</span>       <span class="token number">60</span> <span class="token operator">|</span>    <span class="token number">9.09</span> <span class="token operator">|</span>   <span class="token number">35.29</span> <span class="token operator">|</span> <span class="token number">4,11</span>-20,27        
  lex.js          <span class="token operator">|</span>      <span class="token number">95</span> <span class="token operator">|</span>      <span class="token number">100</span> <span class="token operator">|</span>       <span class="token number">0</span> <span class="token operator">|</span>     <span class="token number">100</span> <span class="token operator">|</span>                   
------------------<span class="token operator">|</span>---------<span class="token operator">|</span>----------<span class="token operator">|</span>---------<span class="token operator">|</span>---------<span class="token operator">|</span>-------------------
Test Suites: <span class="token number">1</span> passed, <span class="token number">1</span> total
Tests:       <span class="token number">10</span> passed, <span class="token number">10</span> total
Snapshots:   <span class="token number">0</span> total
Time:        <span class="token number">3.712</span> s
Ran all <span class="token builtin class-name">test</span> suites.
</code></pre></div><h2 id="publicacion-del-modulo-en-github-registry"><a href="#publicacion-del-modulo-en-github-registry" class="header-anchor">#</a> Publicaci칩n del m칩dulo en Github Registry</h2> <p>Se propone para esta pr치ctica publicar el paquete en el registro de github. Para
ello es necesario crear una cuenta de npm si no se dispone de una e identificarse
con las credenciales utilizando el comando <code>npm login</code>. Adicionalmente, es
necesario generar un token de uso personal de github y colocarlo en un fichero
<code>.npmrc</code> que tendr치 el siguiente contenido:</p> <div class="language- extra-class"><pre class="language-text"><code>registry=https://npm.pkg.github.com/ull-esit-pl-2122
//npm.pkg.github.com/:_authToken=&lt;token&gt;
</code></pre></div><p>Adicionalmente, es necesario editar el package.json de manera que incluya la siguiente
informaci칩n:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@ull-esit-pl-2122/lexer-generator-sebastian-tamayo-guzman-alu0101131108&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Sebasti치n Daniel Tamayo Guzm치n&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Lab for language processors&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;repository&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;git&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;git+https://github.com/ULL-ESIT-PL-2122/lexer-generator-sebastian-tamayo-guzman-alu0101131108.git&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token property">&quot;publishConfig&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;registry&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://npm.pkg.github.com/ull-esit-pl-2122&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token property">&quot;licenses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MIT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://github.com/brentertz/scapegoat/blob/master/LICENSE-MIT&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.3&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;src/main.js&quot;</span>
</code></pre></div><p>El formato que sigue el nombre indica que el paquete ser치 publicado con el 치mbito de la organizaci칩n <code>ull-esit-pl-2021</code> y bajo el nombre
<code>lexer-generator-sebastian-tamayo-guzman-alu0101131108</code>.</p> <p>Una vez completados estos pasos se podr치 publicar el paquete mediante el comando
<code>npm publish</code>.</p> <p>Se debe incluir un README.md en el paquete con la documentaci칩n del m칩dulo y este aparecer치 en la p치gina del registro de github.</p> <h2 id="generacion-de-pagina-estatica-con-vuepress"><a href="#generacion-de-pagina-estatica-con-vuepress" class="header-anchor">#</a> Generaci칩n de p치gina est치tica con Vuepress</h2> <p>Por 칰ltimo, se propone realizar el informe con el generador de p치ginas est치ticas <code>vuepress</code>.
Esta herramienta permite la creaci칩n rapida de SPAs utilizando ficheros Markdown.
Para ello primero es necesario instalar esta herramienta con ```npm install -g vuepress&quot;.
A continuaci칩n, crear una carpeta con un readme que tendr치 el contenido de la p치gina
principal y otra carpeta .vuepress que contiene un archivo config.js con el siguiente contenido:</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Lexer Generator'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">'Pr치ctica para la asignatura procesadores de lenguajes en la Universidad de La Laguna.'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">themeConfig</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">nav</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">'Documentation'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">link</span><span class="token operator">:</span> <span class="token string">'/jsdoc/index.html'</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">'Package'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">link</span><span class="token operator">:</span> <span class="token string">'https://github.com/ULL-ESIT-PL-2122/egg-parser-sebastian-tamayo-guzman-alu0101131108/packages/1338834'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>En este archivo hemos incluido una barra de navegaci칩n que dirige a otros archivos
con el contenido de la documentaci칩n, un enlace al repositorio y otro al paquete.
Podemos utilizar el comando <code>vuepress dev</code> para iniciar un servidor local y poder ir
viendo el resultado.</p> <p>Para finalizar, es necesario ejecutar el comando <code>vuepress build</code> que construye la carpeta que
podemos desplegar en github pages.</p></div> <div class="footer">
    Made with 仇벒잺
  </div></main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.9c667f20.js" defer></script><script src="/assets/js/2.2c19e274.js" defer></script><script src="/assets/js/8.1d776418.js" defer></script>
  </body>
</html>
